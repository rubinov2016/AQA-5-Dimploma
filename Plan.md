# План тестирования веб-сервиса "Путешествие дня"

# Перечень автоматизируемых сценариев

Разработка автоматизируемых сценариев планируется на уровне модульного тестирование

    Виды тестирования
    - конфигурационное с проверкой работы на разных базах данных
    - функциональное на соответствие требования
    - тестирование пользовательского интерфейса
    
    Будет тестироваться  
    - запуск сервиса на базах данных MySQL и PostgreSQL 
    - автоматизация оплаты тура по карте (Payment Gate)
    - автоматизация оплаты тура в кредит по карте (Credit Gate)
    

## 1. Позитивные сценарии

**1.1 Запуск сервиса на разных базах данных**

***Входные данные/предусловие***

Наличие файла db-api.jar

***Шаги***

    Шаг 1. 
      - Вход в директорию, содержащую db-api.jar
    Шаг 2.
      - Запуск в терминале команды docker compose up
    Шаг 3. 
      - Запуск команды java -jar db-api.jar для MySQL
      - ИЛИ запуск команды java -jar db-api.jar для PostgreSQL
    Шаг 4.
        -запуск симулятора в директории gate-simulator командой npm start 

***Ожидаемый результат***

Запуск сервиса без сообщений об ошибке. Последнее сообщение в логе может быть "Completed initialization in .. ms"

**1.2 Автоматизация сценария "Оплата тура по карте (Payment Gate)"**

***Входные данные/предусловие***

Запущенный сервис db-api.jar
Запущенный симулятор gate-simulator

***Шаги сценария, который автоматизируем***

    Шаг 1
      - вход на http://localhost:8080
    Шаг 2
      - нажатие кнопки "Купить" 
    Шаг 3
      - заполение формы корректными значениями из файла data.json  

***Ожидаемый результат***

    Cообщение об успешной отправке формы. Сообщение "Операция одобрена банком"

**1.3 Автоматизация сценария "Оплатв тура в кредит по карте (Credit Gate)"**

***Входные данные/предусловие***

Запущенный сервис db-api.jar
Запущенный симулятор gate-simulator

***Шаги сценария, который автоматизируем***

    Шаг 1
      - вход на http://localhost:8080
    Шаг 2
      - нажатие кнопки "Купить в кредит" 
    Шаг 3
      - заполение формы корректными значениями из файла data.json  

***Ожидаемый результат***

    Cообщение об успешной отправке формы. Сообщение "Операция одобрена банком"

## 2. Негативные сценарии

**2.1 Валидация полей для Оплаты картой**

***Входные данные/предусловие***

Запущенный сервис db-api.jar
Запущенный симулятор gate-simulator

***Шаги***

    Шаг 1
      - вход на http://localhost:8080
    Шаг 2
      - нажатие кнопки "Купить" 
    Шаг 3
      - заполение формы невалидымыи значениями 
          - буквы в цифровых полях
          - недопустимые номера месяцев, года
          - недопустимое количество сивмволов для номера карты
          - русские буквы в наименовании владельца 

***Ожидаемый результат***

    Сообщение снизу некорректно заполенного поля, выделенное красным цветом

**2.2 Валидация полей для Оплаты кредитом**

***Входные данные/предусловие***

Запущенный сервис db-api.jar
Запущенный симулятор gate-simulator

***Шаги***

    Шаг 1
      - вход на http://localhost:8080
    Шаг 2
      - нажатие кнопки "Купить в кредит" 
    Шаг 3
      - заполение формы невалидымыи значениями 
          - буквы в цифровых полях
          - недопустимые номера месяцев, года
          - недопустимое количество сивмволов для номера карты
          - русские буквы в наименовании владельца 

***Ожидаемый результат***

    Сообщение об ощибке, выделенное красным цветом

**2.3 Ввод номеров карточек, отсутствующих в системе**

***Входные данные/предусловие***

Запущенный сервис db-api.jar
Запущенный симулятор gate-simulator

***Шаги***

    Шаг 1
      - вход на http://localhost:8080
    Шаг 2
      - нажатие кнопки "Купить" 
    Шаг 3
      - заполение формы некорректными значениями, отсутствующими в файле data.json  

***Ожидаемый результат***

    Сообщение об ощибке, что такой карты не существуют

# Перечень используемых инструментов с обоснованием выбора

- GitHub: система контроля версий и веб-сервис для хостинга IT-проектов. Автоматический запуск тестов при совершении
  новых коммитов.
- IntelliJ IDEA: одна из наиболее удобных современных сред разработки программного обеспечения
- Gradle: инструмент сборки и запуска тестов. Специально разработан для описания сборки, тестирования, развертывания,
  экспорта
- Java: один из самых популярных языков программирования для реализации тестов.
- JUnit5: библиотека для модульного тестирования программного обеспечения
- Selenide: фреймворк для автоматизированного тестирования веб-приложений
- Allure: фреймворк для создания отчетов (при необходимости)

# Перечень и описание возможных рисков при автоматизации

- Невыявление всех ошибок в коде или настройках окружения
- Неправильная оценка трудозатрат по тестированию
- Неполные или некорректные тестовые данные
- Сложности реализации формы, нечитаемоcть кода (отсутствие локаторов и прочее)

# Интервальная оценка с учётом рисков (в часах)

- Создание детального плана тестирования и техзадания - 4 часа
- Настройка тестового окружения - 3 часа
- Написание автотестов - 15 часов
- Запуск автотестов, проверка отчетов, занесение результатов запуска в протокол и баг-репорты (github) – 5 часов

# План сдачи работ (включая исправления)
- Создание детального плана тестирования и техзадания - 5.10.2021
- Настройка тестового окружения - 6.10.2021
- Написание автотестов - 11.10.2021
- Запуск автотестов, занесение результатов запуска в протокол и баг-репорты – 12.10.2021


