title: Test plan
numbersections: true
# План тестирования веб-сервиса "Путешествие дня"

# Перечень автоматизируемых сценариев

Разработка автоматизируемых сценариев планируется на уровне модульного тестирование

Виды тестирования
- интеграционное 
- функциональное на соответствие требования
- тестирование пользовательского интерфейса
- модульное с проверкой отдельной страниц
    
Будет тестироваться  
- запуск сервиса на базах данных MySQL и PostgreSQL 
- автоматизация оплаты тура по карте (Payment Gate)
- автоматизация оплаты тура в кредит по карте (Credit Gate)

## 1. Позитивные сценарии

**1.1 Запуск сервиса на разных базах данных**

***Входные данные/предусловие***

Наличие файла aqa-shop.jar, директории gate-simulator

***Шаги***

1. Вход в директорию, содержащую aqa-shop.jar
1. Запуск в терминале команды docker compose up
1. Запуск команды java -jar aqa-shop.jar для MySQL ИЛИ для PostgreSQL
1. Запуск симулятора в директории gate-simulator командой npm start 

***Ожидаемый результат***

Запуск сервиса без сообщений об ошибке. Последнее сообщение в логе может быть "Completed initialization in .. ms"

**1.2 Автоматизация сценария "Оплата тура по карте (Payment Gate)"**

***Входные данные/предусловие***

Запущенный сервис aqa-shop.jar
Запущенный симулятор gate-simulator

***Шаги сценария, который автоматизируем***

1. Вход на http://localhost:8080
1. Нажатие кнопки "Купить" 
1. Заполнение формы корректными значениями из файла data.json
    1. Номер карты 4444 4444 4444 4441 или 4444 4444 4444 4442
    1. Месяц от 01 до 12 в формате двух знаков (срок действия карты больше текущей даты)
    1. Год в формате двух знаков (срок действия карты больше текущей даты)
    1. CVC в формате трех знаков
1. Отправка формы по нажатию кнопки "Продолжить"

***Ожидаемый результат***

Cообщение об успешной отправке формы. Сообщение "Операция одобрена банком"

**1.3 Автоматизация сценария "Оплата тура в кредит по карте (Credit Gate)"**

***Входные данные/предусловие***

Запущенный сервис aqa-shop.jar
Запущенный симулятор gate-simulator

***Шаги сценария, который автоматизируем***

1. Вход на http://localhost:8080
1. Нажатие кнопки "Купить в кредит" 
1. Заполнение формы корректными значениями из файла data.json 
    1. Номер карты 4444 4444 4444 4441 или 4444 4444 4444 4442
    1. Месяц от 01 до 12 в формате двух знаков (срок действия карты больше текущей даты)
    1. Год в формате двух знаков (срок действия карты больше текущей даты)
    1. CVC в формате трех знаков
1. Отправка формы по нажатию кнопки "Продолжить"

***Ожидаемый результат***

Cообщение об успешной отправке формы. Сообщение "Операция одобрена банком"

## 2. Негативные сценарии

**2.1 Валидация полей для Оплаты картой**

***Входные данные/предусловие***

Запущенный сервис aqa-shop.jar
Запущенный симулятор gate-simulator

***Шаги***

1. Вход на http://localhost:8080
1. Нажатие кнопки "Купить" 
1. Заполнение полей невалидными значениями 
    1. буквы в цифровых полях номера карты, месяца, года, CVC
    1. ввод меньшего числа символов в цифровых полях номера карты, месяца, года, CVC
    1. недопустимые номера месяцa
    1. недопустимое количество символов для номера карты   
    1. дата действия карты меньше текущей даты
    1. русские буквы или цифры в наименовании владельца 
1. Отправка формы по нажатию кнопки "Продолжить"

***Ожидаемый результат***

1. Ошибка валидации (соответствует шагу Заполнение полей невалидными значениям )
    1. Невозможность ввести буквы 
    1. Сообщение об ошибке красным цветом "Неверный формат"
    1. Сообщение об ошибке красным цветом "Неверный формат"
    1. Сообщение об ошибке красным цветом "Неверный формат"
    1. Сообщение об ошибке красным цветом "Истёк срок действия карты"
    1. Невозможность ввести буквы
    

**2.2 Валидация полей для Оплаты кредитом**

***Входные данные/предусловие***

Запущенный сервис aqa-shop.jar
Запущенный симулятор gate-simulator

***Шаги***

1. Вход на http://localhost:8080
1. Нажатие кнопки "Купить в кредит" 
1. Заполнение формы невалидными значениями
   1. буквы в цифровых полях
   1. недопустимые номера месяцев, года
   1. недопустимое количество сивмволов для номера карты
   1. русские буквы или цифры в наименовании владельца
1. Отправка формы по нажатию кнопки "Продолжить"

***Ожидаемый результат***

Сообщение об ошибке, выделенное красным цветом

**2.3 Ввод номеров карточек, отсутствующих в системе**

***Входные данные/предусловие***

Запущенный сервис aqa-shop.jar
Запущенный симулятор gate-simulator

***Шаги***

1. Вход на http://localhost:8080
1. Нажатие кнопки "Купить в кредит"
1. Заполнение формы корректными значениями из файла data.json
    1. Любой номер карты кроме 4444 4444 4444 4441 или 4444 4444 4444 4442
    1. Месяц от 01 до 12 в формате двух знаков (срок действия карты больше текущей даты)
    1. Год в формате двух знаков (срок действия карты больше текущей даты)
    1. CVC в формате трех знаков
1. Отправка формы по нажатию кнопки "Продолжить"

***Ожидаемый результат***

Сообщение "Ошибка! Банк отказал в проведении операции"

# Перечень используемых инструментов с обоснованием выбора

- GitHub: система контроля версий и веб-сервис для хостинга IT-проектов. Автоматический запуск тестов при совершении
  новых коммитов.
- IntelliJ IDEA: одна из наиболее удобных современных сред разработки программного обеспечения
- Gradle: инструмент сборки и запуска тестов. Специально разработан для описания сборки, тестирования, развертывания,
  экспорта
- Java: один из самых популярных языков программирования для реализации тестов.
- JUnit5: библиотека для модульного тестирования программного обеспечения
- Selenide: фреймворк для автоматизированного тестирования веб-приложений
- Allure: фреймворк для создания отчетов (при необходимости)

# Перечень и описание возможных рисков при автоматизации

- Невыявление всех ошибок в коде или настройках окружения
- Неправильная оценка трудозатрат по тестированию
- Неполные или некорректные тестовые данные
- Сложности реализации формы, нечитаемоcть кода (отсутствие локаторов и прочее)

# Интервальная оценка с учётом рисков (в часах)

- Создание детального плана тестирования и техзадания - 4 часа
- Настройка тестового окружения - 3 часа
- Написание автотестов - 15 часов
- Запуск автотестов, проверка отчетов, занесение результатов запуска в протокол и баг-репорты (github) – 5 часов

# План сдачи работ (включая исправления)
- Создание детального плана тестирования и техзадания - 25.10.2021
- Настройка тестового окружения - 26.10.2021
- Написание автотестов - 11.11.2021
- Запуск автотестов, занесение результатов запуска в протокол и баг-репорты – 15.10.2021


